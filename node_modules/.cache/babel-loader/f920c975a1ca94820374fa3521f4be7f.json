{"ast":null,"code":"import _regeneratorRuntime from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import'../../styles/SingUp.css';import Card from\"../Common/Card/Card\";import CardHeader from\"../Common/Card/CardHeader\";import CardBody from\"../Common/Card/CardBody\";import Button from\"../Common/CustomButtons/Button.js\";import CustomInput from\"../Common/CustomInput/CustomInput.js\";import{singUp,changePath,promptNotification}from'../../actions';var SingUp=/*#__PURE__*/function(_Component){_inherits(SingUp,_Component);var _super=_createSuper(SingUp);function SingUp(props){var _this;_classCallCheck(this,SingUp);_this=_super.call(this,props);_this.getInputValues=function(event){var _this$setState;var _event$target=event.target,id=_event$target.id,value=_event$target.value;_this.setState((_this$setState={},_defineProperty(_this$setState,id,value),_defineProperty(_this$setState,\"is\".concat(event.target.id,\"Wrong\"),_this.validateInputs(id,value)),_this$setState));_this.disableSaveButton();};_this.disableSaveButton=function(){var _this$state=_this.state,isfirstNameWrong=_this$state.isfirstNameWrong,islastNameWrong=_this$state.islastNameWrong,isdocumentIdWrong=_this$state.isdocumentIdWrong,isemailWrong=_this$state.isemailWrong,iscellphoneWrong=_this$state.iscellphoneWrong,isusernameWrong=_this$state.isusernameWrong,ispasswordWrong=_this$state.ispasswordWrong;var isValid=[isfirstNameWrong,islastNameWrong,isdocumentIdWrong,isemailWrong,iscellphoneWrong,isusernameWrong,ispasswordWrong].includes(true);_this.setState({isValidData:!isValid});};_this.validateInputs=function(inputId,value){var isValid=false;switch(inputId){case'firstName':isValid=/^[a-zA-Z-,]+(\\s{0,1}[a-zA-Z-, ])*$/.test(value);break;case'lastName':isValid=/^[a-zA-Z-,]+(\\s{0,1}[a-zA-Z-, ])*$/.test(value);break;case'documentId':isValid=/^\\(?([0-9]{4})\\)?[-]?([0-9]{4})[-]?([0-9]{5})$/.test(value);break;case'email':isValid=/\\S+@\\S+\\.\\S+/.test(value);break;case'cellphone':isValid=/^\\(?([0-9]{8})\\)?$/.test(value);break;case'username':isValid=/^[a-zA-Z0-9-!_]{5,}$/.test(value);break;case'password':isValid=/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(value);break;default:console.log('input id is not supported');break;}return!isValid;};_this.createUser=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$state2,firstName,lastName,documentId,email,cellphone,username,password,error;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state2=_this.state,firstName=_this$state2.firstName,lastName=_this$state2.lastName,documentId=_this$state2.documentId,email=_this$state2.email,cellphone=_this$state2.cellphone,username=_this$state2.username,password=_this$state2.password;error=_this.props.error;_context.next=4;return _this.props.singUp({firstName:firstName,lastName:lastName,id:documentId,email:email,phone:cellphone,username:username,password:password});case 4:if(!error.error){_this.props.promptNotification('Usuario creado exitosamente','success');_this.props.changePath('');}else{console.log('error --->',error.message);}case 5:case\"end\":return _context.stop();}}},_callee);}));_this.returnToLogin=function(){_this.props.changePath('');};_this.state={username:'',password:'',firstName:'',lastName:'',documentId:'',email:'',cellphone:'',isfirstNameWrong:false,islastNameWrong:false,isdocumentIdWrong:false,isemailWrong:false,iscellphoneWrong:false,isusernameWrong:false,ispasswordWrong:false,isValidData:false};return _this;}_createClass(SingUp,[{key:\"render\",value:function render(){var _this$state3=this.state,username=_this$state3.username,password=_this$state3.password,firstName=_this$state3.firstName,lastName=_this$state3.lastName,documentId=_this$state3.documentId,email=_this$state3.email,cellphone=_this$state3.cellphone,isfirstNameWrong=_this$state3.isfirstNameWrong,islastNameWrong=_this$state3.islastNameWrong,isdocumentIdWrong=_this$state3.isdocumentIdWrong,isemailWrong=_this$state3.isemailWrong,iscellphoneWrong=_this$state3.iscellphoneWrong,isusernameWrong=_this$state3.isusernameWrong,ispasswordWrong=_this$state3.ispasswordWrong,isValidData=_this$state3.isValidData;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar navbar-light\",style:{background:'linear-gradient(87deg, #e72339 0, #ff9800 100%)'}},/*#__PURE__*/React.createElement(\"h1\",{style:{color:'white',letterSpacing:30,cursor:'pointer'},onClick:this.returnToLogin},\"SEGUR\\xDA\")),/*#__PURE__*/React.createElement(\"div\",{className:'cardForm'},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,{color:\"warning\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Crea tu cuenta\"),/*#__PURE__*/React.createElement(\"p\",null,\"Completa el siguiente formulario\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row col-xs-12 col-sm-12 col-md-12\"},/*#__PURE__*/React.createElement(CustomInput,{labelText:\"Nombre\",id:\"firstName\",error:isfirstNameWrong,formControlProps:{fullWidth:true},inputProps:{value:firstName,onChange:this.getInputValues}}),isfirstNameWrong?/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'11px',color:'red'}},\"Nombre invalido. Solo se permiten letras\"):''),/*#__PURE__*/React.createElement(\"div\",{className:\"row col-xs-12 col-sm-12 col-md-12\"},/*#__PURE__*/React.createElement(CustomInput,{labelText:\"Apellido\",id:\"lastName\",error:islastNameWrong,formControlProps:{fullWidth:true},inputProps:{value:lastName,onChange:this.getInputValues}}),islastNameWrong?/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'11px',color:'red'}},\"Apellido invalido. Solo se permiten letras\"):''),/*#__PURE__*/React.createElement(\"div\",{className:\"row col-xs-12 col-sm-12 col-md-12\"},/*#__PURE__*/React.createElement(CustomInput,{labelText:\"Identidad\",id:\"documentId\",error:isdocumentIdWrong,formControlProps:{fullWidth:true},inputProps:{value:documentId,onChange:this.getInputValues}}),isdocumentIdWrong?/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'11px',color:'red'}},\"N\\xFAmero de Identidad Invalido. Usar guiones\"):''),/*#__PURE__*/React.createElement(\"div\",{className:\"row col-xs-12 col-sm-12 col-md-12\"},/*#__PURE__*/React.createElement(CustomInput,{labelText:\"Correo Electr\\xF3nico\",id:\"email\",error:isemailWrong,formControlProps:{fullWidth:true,type:\"email\"},inputProps:{value:email,onChange:this.getInputValues}}),isemailWrong?/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'11px',color:'red'}},\"Correo Electr\\xF3nico invalido.\"):''),/*#__PURE__*/React.createElement(\"div\",{className:\"row col-xs-12 col-sm-12 col-md-12\"},/*#__PURE__*/React.createElement(CustomInput,{labelText:\"Celular\",id:\"cellphone\",error:iscellphoneWrong,formControlProps:{fullWidth:true},inputProps:{value:cellphone,onChange:this.getInputValues}}),iscellphoneWrong?/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'11px',color:'red'}},\"N\\xFAmero de celular invalido.\"):''),/*#__PURE__*/React.createElement(\"div\",{className:\"row col-xs-12 col-sm-12 col-md-12\"},/*#__PURE__*/React.createElement(CustomInput,{labelText:\"Nombre de Usuario\",id:\"username\",error:isusernameWrong,formControlProps:{fullWidth:true},inputProps:{value:username,onChange:this.getInputValues}}),isusernameWrong?/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'11px',color:'red'}},\"Nombre de usuario invalido. Usar al menos cinco caracteres\"):''),/*#__PURE__*/React.createElement(\"div\",{className:\"row col-xs-12 col-sm-12 col-md-12\"},/*#__PURE__*/React.createElement(CustomInput,{labelText:\"Contrase\\xF1a\",id:\"password\",isValid:ispasswordWrong,formControlProps:{fullWidth:true},inputProps:{value:password,onChange:this.getInputValues,type:\"password\"}}),ispasswordWrong?/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'11px',color:'red'}},\"Contrase\\xF1a invalida. Usar al menos 8 caracteres, una letra may\\xFAscula y un n\\xFAmero\"):''))),/*#__PURE__*/React.createElement(\"div\",{className:\"submitButton\"},/*#__PURE__*/React.createElement(Button,{disabled:!isValidData,color:\"primary\",type:\"button\",onClick:this.createUser},\"Crear Usuario\")))));}}]);return SingUp;}(Component);var mapStateToProps=function mapStateToProps(state){var error=state.error;return{error:error};};export default connect(mapStateToProps,{singUp:singUp,changePath:changePath,promptNotification:promptNotification})(SingUp);","map":{"version":3,"sources":["/Users/manuel/Documents/CA/ca-fe/src/components/SingUp/SingUp.js"],"names":["React","Component","connect","Card","CardHeader","CardBody","Button","CustomInput","singUp","changePath","promptNotification","SingUp","props","getInputValues","event","target","id","value","setState","validateInputs","disableSaveButton","state","isfirstNameWrong","islastNameWrong","isdocumentIdWrong","isemailWrong","iscellphoneWrong","isusernameWrong","ispasswordWrong","isValid","includes","isValidData","inputId","test","console","log","createUser","firstName","lastName","documentId","email","cellphone","username","password","error","phone","message","returnToLogin","background","color","letterSpacing","cursor","fullWidth","onChange","fontSize","type","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport '../../styles/SingUp.css';\nimport Card from \"../Common/Card/Card\";\nimport CardHeader from \"../Common/Card/CardHeader\";\nimport CardBody from \"../Common/Card/CardBody\";\nimport Button from \"../Common/CustomButtons/Button.js\";\nimport CustomInput from \"../Common/CustomInput/CustomInput.js\";\nimport { singUp, changePath, promptNotification } from '../../actions';\n\nclass SingUp extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            password: '',\n            firstName: '',\n            lastName: '',\n            documentId: '',\n            email: '',\n            cellphone: '',\n            isfirstNameWrong: false,\n            islastNameWrong: false,\n            isdocumentIdWrong: false,\n            isemailWrong: false,\n            iscellphoneWrong: false,\n            isusernameWrong: false,\n            ispasswordWrong: false,\n            isValidData: false,\n        }\n    }\n\n    getInputValues = (event) => {\n        const { id, value } = event.target;\n        this.setState({\n            [id]: value,\n            [`is${event.target.id}Wrong`]: this.validateInputs(id, value),\n        });\n        this.disableSaveButton();\n    }\n\n    disableSaveButton = () => {\n        const { isfirstNameWrong,\n            islastNameWrong,\n            isdocumentIdWrong,\n            isemailWrong,\n            iscellphoneWrong,\n            isusernameWrong,\n            ispasswordWrong, } = this.state\n\n        const isValid = [isfirstNameWrong,\n            islastNameWrong,\n            isdocumentIdWrong,\n            isemailWrong,\n            iscellphoneWrong,\n            isusernameWrong,\n            ispasswordWrong].includes(true);\n\n        this.setState({ isValidData: !isValid })\n\n    }\n    validateInputs = (inputId, value) => {\n        let isValid = false;\n        switch (inputId) {\n            case 'firstName':\n                isValid = (/^[a-zA-Z-,]+(\\s{0,1}[a-zA-Z-, ])*$/).test(value)\n                break;\n            case 'lastName':\n                isValid = (/^[a-zA-Z-,]+(\\s{0,1}[a-zA-Z-, ])*$/).test(value)\n                break;\n            case 'documentId':\n                isValid = (/^\\(?([0-9]{4})\\)?[-]?([0-9]{4})[-]?([0-9]{5})$/).test(value)\n                break;\n            case 'email':\n                isValid = (/\\S+@\\S+\\.\\S+/).test(value)\n                break;\n            case 'cellphone':\n                isValid = (/^\\(?([0-9]{8})\\)?$/).test(value)\n                break;\n            case 'username':\n                isValid = (/^[a-zA-Z0-9-!_]{5,}$/).test(value)\n                break;\n            case 'password':\n                isValid = (/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/).test(value)\n                break;\n            default:\n                console.log('input id is not supported');\n                break;\n        }\n        return !isValid;\n    }\n\n    createUser = async () => {\n        const {\n            firstName,\n            lastName,\n            documentId,\n            email,\n            cellphone,\n            username,\n            password,\n        } = this.state \n        const { error } = this.props;\n        await this.props.singUp({\n            firstName,\n            lastName,\n            id: documentId,\n            email,\n            phone: cellphone,\n            username,\n            password,\n        });\n\n        if(!error.error){\n            this.props.promptNotification('Usuario creado exitosamente', 'success');\n            this.props.changePath('');\n        }else{\n            console.log('error --->', error.message);\n        }\n    }\n    returnToLogin = () => {\n        this.props.changePath('');\n    }\n\n    render() {\n        const {\n            username,\n            password,\n            firstName,\n            lastName,\n            documentId,\n            email,\n            cellphone,\n            isfirstNameWrong,\n            islastNameWrong,\n            isdocumentIdWrong,\n            isemailWrong,\n            iscellphoneWrong,\n            isusernameWrong,\n            ispasswordWrong,\n            isValidData\n        } = this.state;\n        return (\n            <div>\n                <nav className=\"navbar navbar-light\" style={{ background: 'linear-gradient(87deg, #e72339 0, #ff9800 100%)' }}>\n                    <h1 style={{\n                        color: 'white',\n                        letterSpacing: 30,\n                        cursor: 'pointer',\n                    }}\n                        onClick={this.returnToLogin}\n                    >SEGURÚ</h1>\n                </nav>\n                <div className={'cardForm'}>\n                    <Card>\n                        <CardHeader color=\"warning\">\n                            <h4>Crea tu cuenta</h4>\n                            <p>Completa el siguiente formulario</p>\n                        </CardHeader>\n                        <CardBody>\n                            <div className=\"container\">\n                                <div className=\"row col-xs-12 col-sm-12 col-md-12\">\n                                    <CustomInput\n                                        labelText=\"Nombre\"\n                                        id=\"firstName\"\n                                        error={isfirstNameWrong}\n                                        formControlProps={{\n                                            fullWidth: true\n                                        }}\n                                        inputProps={{\n                                            value: firstName,\n                                            onChange: this.getInputValues\n                                        }}\n                                    />\n                                    {\n                                        isfirstNameWrong ? <p style={{\n                                            fontSize: '11px',\n                                            color: 'red'\n                                        }}>Nombre invalido. Solo se permiten letras</p> : ''\n                                    }\n                                </div>\n                                <div className=\"row col-xs-12 col-sm-12 col-md-12\">\n                                    <CustomInput\n                                        labelText=\"Apellido\"\n                                        id=\"lastName\"\n                                        error={islastNameWrong}\n                                        formControlProps={{\n                                            fullWidth: true\n                                        }}\n                                        inputProps={{\n                                            value: lastName,\n                                            onChange: this.getInputValues\n                                        }}\n                                    />\n                                    {\n                                        islastNameWrong ? <p style={{\n                                            fontSize: '11px',\n                                            color: 'red'\n                                        }}>Apellido invalido. Solo se permiten letras</p> : ''\n                                    }\n                                </div>\n                                <div className=\"row col-xs-12 col-sm-12 col-md-12\">\n                                    <CustomInput\n                                        labelText=\"Identidad\"\n                                        id=\"documentId\"\n                                        error={isdocumentIdWrong}\n                                        formControlProps={{\n                                            fullWidth: true\n                                        }}\n                                        inputProps={{\n                                            value: documentId,\n                                            onChange: this.getInputValues\n                                        }}\n                                    />\n                                    {\n                                        isdocumentIdWrong ? <p style={{\n                                            fontSize: '11px',\n                                            color: 'red'\n                                        }}>Número de Identidad Invalido. Usar guiones</p> : ''\n                                    }\n                                </div>\n                                <div className=\"row col-xs-12 col-sm-12 col-md-12\">\n                                    <CustomInput\n                                        labelText=\"Correo Electrónico\"\n                                        id=\"email\"\n                                        error={isemailWrong}\n                                        formControlProps={{\n                                            fullWidth: true,\n                                            type: \"email\",\n                                        }}\n                                        inputProps={{\n                                            value: email,\n                                            onChange: this.getInputValues\n                                        }}\n                                    />\n                                    {\n                                        isemailWrong ? <p style={{\n                                            fontSize: '11px',\n                                            color: 'red'\n                                        }}>Correo Electrónico invalido.</p> : ''\n                                    }\n                                </div>\n                                <div className=\"row col-xs-12 col-sm-12 col-md-12\">\n                                    <CustomInput\n                                        labelText=\"Celular\"\n                                        id=\"cellphone\"\n                                        error={iscellphoneWrong}\n                                        formControlProps={{\n                                            fullWidth: true\n                                        }}\n                                        inputProps={{\n                                            value: cellphone,\n                                            onChange: this.getInputValues\n                                        }}\n                                    />\n                                    {\n                                        iscellphoneWrong ? <p style={{\n                                            fontSize: '11px',\n                                            color: 'red'\n                                        }}>Número de celular invalido.</p> : ''\n                                    }\n                                </div>\n                                <div className=\"row col-xs-12 col-sm-12 col-md-12\">\n                                    <CustomInput\n                                        labelText=\"Nombre de Usuario\"\n                                        id=\"username\"\n                                        error={isusernameWrong}\n                                        formControlProps={{\n                                            fullWidth: true\n                                        }}\n                                        inputProps={{\n                                            value: username,\n                                            onChange: this.getInputValues\n                                        }}\n                                    />\n                                    {\n                                        isusernameWrong ? <p style={{\n                                            fontSize: '11px',\n                                            color: 'red'\n                                        }}>Nombre de usuario invalido. Usar al menos cinco caracteres</p> : ''\n                                    }\n                                </div>\n                                <div className=\"row col-xs-12 col-sm-12 col-md-12\">\n                                    <CustomInput\n                                        labelText=\"Contraseña\"\n                                        id=\"password\"\n                                        isValid={ispasswordWrong}\n                                        formControlProps={{\n                                            fullWidth: true,\n                                        }}\n                                        inputProps={{\n                                            value: password,\n                                            onChange: this.getInputValues,\n                                            type: \"password\",\n                                        }}\n                                    />\n                                    {\n                                        ispasswordWrong ? <p style={{\n                                            fontSize: '11px',\n                                            color: 'red'\n                                        }}>Contraseña invalida. Usar al menos 8 caracteres, una letra mayúscula y un número</p> : ''\n                                    }\n                                </div>\n                            </div>\n                        </CardBody>\n                        <div className=\"submitButton\">\n                            <Button disabled={!isValidData} color=\"primary\" type=\"button\" onClick={this.createUser}>\n                                Crear Usuario\n                        </Button>\n                        </div>\n                    </Card>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    const { error } = state;\n    return {\n        error\n    }\n}\n\nexport default connect(mapStateToProps, { singUp, changePath, promptNotification })(SingUp)"]},"metadata":{},"sourceType":"module"}