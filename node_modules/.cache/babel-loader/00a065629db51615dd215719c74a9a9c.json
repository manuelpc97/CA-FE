{"ast":null,"code":"import _regeneratorRuntime from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import Card from\"../Common/Card/Card\";import CardHeader from\"../Common/Card/CardHeader\";import CardBody from\"../Common/Card/CardBody\";import Button from\"../Common/CustomButtons/Button.js\";import CustomInput from\"../Common/CustomInput/CustomInput.js\";import{logIn,changePath,promptNotification}from'../../actions';var Form=/*#__PURE__*/function(_Component){_inherits(Form,_Component);var _super=_createSuper(Form);function Form(props){var _this;_classCallCheck(this,Form);_this=_super.call(this,props);_this.onUsernameChange=function(event){var value=event.target.value;var usernameRegex=/^[a-zA-Z0-9-!_]{5,}$/;var isValid=usernameRegex.test(value);_this.setState({username:value,isValidUsername:!isValid});};_this.onPasswordChange=function(event){var value=event.target.value;var passwordRegex=/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;var isValid=passwordRegex.test(value);_this.setState({password:event.target.value,isValidPassword:!isValid});};_this.onSubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.logIn(_this.state.username,_this.state.password);case 2:if(_this.props.isAuth===true){_this.props.promptNotification('Bienvenido!!!','success');_this.props.changePath('home');}else{_this.setState({username:'',password:''});}case 3:case\"end\":return _context.stop();}}},_callee);}));_this.state={username:'',password:'',isValidUsername:false,isValidPassword:false};return _this;}_createClass(Form,[{key:\"render\",value:function render(){var _this$state=this.state,isValidUsername=_this$state.isValidUsername,isValidPassword=_this$state.isValidPassword;return/*#__PURE__*/React.createElement(Card,{className:\"bg-secondary shadow border-0\"},/*#__PURE__*/React.createElement(CardHeader,{className:\"bg-transparent\"},/*#__PURE__*/React.createElement(\"div\",{className:\"btn-wrapper text-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn-inner--icon\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"...\",src:\"/images/login/loginIcon.jpg\",width:\"70%\"})))),/*#__PURE__*/React.createElement(CardBody,{className:\"px-lg-5 pb-lg-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center text-muted mb-4\"}),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(CustomInput,{labelText:\"Usuario\",id:\"email-address\",error:isValidUsername,inputProps:{value:this.state.username,onChange:this.onUsernameChange},formControlProps:{fullWidth:true},inputIcon:/*#__PURE__*/React.createElement(\"i\",{style:{color:'#929292',fontSize:'15px',marginRight:'10px'},className:\"fas fa-envelope\"})}),isValidUsername?/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'11px',color:'red'}},\"Nombre de usuario invalido\"):''),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(CustomInput,{labelText:\"Contrase\\xF1a\",inputProps:{type:\"password\",value:this.state.password,onChange:this.onPasswordChange},autoComplete:\"current-password\",id:\"password\",error:isValidPassword,formControlProps:{fullWidth:true},inputIcon:/*#__PURE__*/React.createElement(\"i\",{style:{color:'#929292',fontSize:'15px',marginRight:'10px'},className:\"fas fa-unlock\"})}),isValidPassword?/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'11px',color:'red'}},\"Contrase\\xF1a Invalida\"):''),/*#__PURE__*/React.createElement(\"div\",{className:\"custom-control custom-control-alternative custom-checkbox\"},/*#__PURE__*/React.createElement(\"input\",{className:\"custom-control-input\",id:\" customCheckLogin\",type:\"checkbox\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{disabled:isValidUsername||isValidPassword,className:\"my-2\",color:\"primary\",type:\"button\",onClick:this.onSubmit},\"Iniciar Sesi\\xF3n\")))));}}]);return Form;}(Component);var mapStateToProps=function mapStateToProps(state){return{isAuth:state.user.isAuth};};export default connect(mapStateToProps,{logIn:logIn,changePath:changePath,promptNotification:promptNotification})(Form);","map":{"version":3,"sources":["/Users/manuel/Documents/CA/ca-fe/src/components/LogIn/Form.js"],"names":["React","Component","connect","Card","CardHeader","CardBody","Button","CustomInput","logIn","changePath","promptNotification","Form","props","onUsernameChange","event","value","target","usernameRegex","isValid","test","setState","username","isValidUsername","onPasswordChange","passwordRegex","password","isValidPassword","onSubmit","state","isAuth","onChange","fullWidth","color","fontSize","marginRight","type","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Card from \"../Common/Card/Card\";\nimport CardHeader from \"../Common/Card/CardHeader\";\nimport CardBody from \"../Common/Card/CardBody\";\nimport Button from \"../Common/CustomButtons/Button.js\";\nimport CustomInput from \"../Common/CustomInput/CustomInput.js\";\nimport { logIn, changePath, promptNotification } from '../../actions';\n\n\n\nclass Form extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            password: '',\n            isValidUsername: false,\n            isValidPassword: false,\n        }\n    }\n\n    render() {\n        const { isValidUsername, isValidPassword } = this.state;\n        return (\n            <Card className=\"bg-secondary shadow border-0\">\n                <CardHeader className=\"bg-transparent\">\n                    <div className=\"btn-wrapper text-center\">\n\n                        <span className=\"btn-inner--icon\">\n                            <img\n                                alt=\"...\"\n                                src=\"/images/login/loginIcon.jpg\"\n                                width='70%'\n                            />\n                        </span>\n                    </div>\n                </CardHeader>\n                <CardBody className=\"px-lg-5 pb-lg-5\">\n                    <div className=\"text-center text-muted mb-4\">\n                    </div>\n                    <form>\n                        <div className=\"form-group\">\n                            <CustomInput\n                                labelText=\"Usuario\"\n                                id=\"email-address\"\n                                error={isValidUsername}\n                                inputProps={{\n                                    value: this.state.username,\n                                    onChange: this.onUsernameChange\n                                }}\n                                formControlProps={{\n                                    fullWidth: true\n                                }}\n                                inputIcon={<i style={{ color: '#929292', fontSize: '15px', marginRight: '10px' }} className=\"fas fa-envelope\"></i>}\n                            />\n                            {\n                                isValidUsername ? <p style={{\n                                    fontSize: '11px',\n                                    color: 'red'\n                                }}>Nombre de usuario invalido</p> : ''\n                            }\n                        </div>\n                        <div className=\"form-group\">\n                            <CustomInput\n                                labelText=\"Contraseña\"\n                                inputProps={{\n                                    type: \"password\",\n                                    value: this.state.password,\n                                    onChange: this.onPasswordChange\n                                }}\n                                autoComplete=\"current-password\"\n                                id=\"password\"\n                                error={isValidPassword}\n                                formControlProps={{\n                                    fullWidth: true\n                                }}\n                                inputIcon={<i style={{ color: '#929292', fontSize: '15px', marginRight: '10px' }} className=\"fas fa-unlock\"></i>}\n                            />\n                            {\n                                isValidPassword ? <p style={{\n                                    fontSize: '11px',\n                                    color: 'red'\n                                }}>Contraseña Invalida</p> : ''\n                            }\n                        </div>\n                        <div className=\"custom-control custom-control-alternative custom-checkbox\">\n                            <input\n                                className=\"custom-control-input\"\n                                id=\" customCheckLogin\"\n                                type=\"checkbox\"\n                            />\n                        </div>\n                        <div className=\"text-center\">\n                            <Button disabled={(isValidUsername || isValidPassword)} className=\"my-2\" color=\"primary\" type=\"button\" onClick={this.onSubmit}>\n                                Iniciar Sesión\n                            </Button>\n                        </div>\n                    </form>\n                </CardBody>\n            </Card>\n        );\n    }\n\n    onUsernameChange = event => {\n        const { value } = event.target\n        const usernameRegex = /^[a-zA-Z0-9-!_]{5,}$/\n        const isValid = usernameRegex.test(value)\n        this.setState({\n            username: value,\n            isValidUsername: !isValid\n        });\n    }\n\n    onPasswordChange = event => {\n        const { value } = event.target;\n        const passwordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/\n        const isValid = passwordRegex.test(value)\n        this.setState({ \n            password: event.target.value,\n            isValidPassword: !isValid,\n        });\n    }\n\n    onSubmit = async () => {\n        await this.props.logIn(this.state.username, this.state.password);\n        if (this.props.isAuth === true) {\n            this.props.promptNotification('Bienvenido!!!', 'success');\n            this.props.changePath('home');\n        } else {\n            this.setState({ username: '', password: '' });\n        }\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuth: state.user.isAuth\n    }\n}\n\nexport default connect(mapStateToProps, { logIn, changePath, promptNotification })(Form);"]},"metadata":{},"sourceType":"module"}