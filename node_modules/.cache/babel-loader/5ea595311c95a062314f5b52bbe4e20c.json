{"ast":null,"code":"import _classCallCheck from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/manuel/Documents/CA/ca-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import'../../styles/Input.css';import React,{Component}from'react';import validateValue from'../../helpers/validate/regexInput';import{isEmpty}from'lodash';var FileInput=/*#__PURE__*/function(_Component){_inherits(FileInput,_Component);var _super=_createSuper(FileInput);function FileInput(props){var _this;_classCallCheck(this,FileInput);_this=_super.call(this,props);_this.onValueChange=function(event){var file=event.target.files[0];var reader=new FileReader();var state=_assertThisInitialized(_this);if(!isEmpty(file.name)){reader.onload=function(e){state.setState({value:e.target.result});state.storeQuestion();};reader.readAsDataURL(file);}else{file={name:'Seleccionar Imagen'};}_this.setState({fileChoosed:file.name});};_this.storeQuestion=function(){var isValid=!isEmpty(_this.state.value);_this.setState({isValidValue:isValid});var completedQuestion={question:_this.props.question.question,answer:_this.state.value};_this.props.onStateChange(completedQuestion,_this.props.index);var isRequired=_this.props.question.inputType.required?isValid:true;_this.props.requiredQuestion(isRequired,_this.props.index);};_this.state={value:'',isValidValue:true,fileChoosed:'Seleccionar Imagen'};return _this;}_createClass(FileInput,[{key:\"componentDidMount\",value:function componentDidMount(){this.storeQuestion(this.state.value);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"input-container\"},/*#__PURE__*/React.createElement(\"label\",null,this.props.question.question),/*#__PURE__*/React.createElement(\"div\",{className:\"custom-file\"},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",className:\"fileInput\",id:\"input-file\".concat(this.props.index),accept:\"image/*\",onChange:this.onValueChange}),/*#__PURE__*/React.createElement(\"label\",{className:\"custom-file-label fileInput\",for:\"input-file\".concat(this.props.index)},this.state.fileChoosed)));}}]);return FileInput;}(Component);export default FileInput;","map":{"version":3,"sources":["/Users/manuel/Documents/CA/ca-fe/src/components/Form/FileInput.js"],"names":["React","Component","validateValue","isEmpty","FileInput","props","onValueChange","event","file","target","files","reader","FileReader","state","name","onload","e","setState","value","result","storeQuestion","readAsDataURL","fileChoosed","isValid","isValidValue","completedQuestion","question","answer","onStateChange","index","isRequired","inputType","required","requiredQuestion"],"mappings":"mvBAAA,MAAO,wBAAP,CACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,aAAP,KAA0B,mCAA1B,CACA,OAASC,OAAT,KAAwB,QAAxB,C,GAEMC,CAAAA,S,sGACF,mBAAYC,KAAZ,CAAmB,2CACf,uBAAMA,KAAN,EADe,MAanBC,aAbmB,CAaH,SAACC,KAAD,CAAW,CACvB,GAAIC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAX,CACA,GAAMC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,UAAJ,EAAf,CACA,GAAMC,CAAAA,KAAK,8BAAX,CACA,GAAI,CAACV,OAAO,CAACK,IAAI,CAACM,IAAN,CAAZ,CAAyB,CACrBH,MAAM,CAACI,MAAP,CAAgB,SAAUC,CAAV,CAAa,CACzBH,KAAK,CAACI,QAAN,CAAe,CACXC,KAAK,CAAEF,CAAC,CAACP,MAAF,CAASU,MADL,CAAf,EAGAN,KAAK,CAACO,aAAN,GACH,CALD,CAMAT,MAAM,CAACU,aAAP,CAAqBb,IAArB,EACH,CARD,IAQO,CACHA,IAAI,CAAG,CAAEM,IAAI,CAAE,oBAAR,CAAP,CACH,CACD,MAAKG,QAAL,CAAc,CAAEK,WAAW,CAAEd,IAAI,CAACM,IAApB,CAAd,EACH,CA7BkB,OA+CnBM,aA/CmB,CA+CH,UAAM,CAClB,GAAMG,CAAAA,OAAO,CAAG,CAACpB,OAAO,CAAC,MAAKU,KAAL,CAAWK,KAAZ,CAAxB,CACA,MAAKD,QAAL,CAAc,CAAEO,YAAY,CAAED,OAAhB,CAAd,EACA,GAAIE,CAAAA,iBAAiB,CAAG,CACpBC,QAAQ,CAAE,MAAKrB,KAAL,CAAWqB,QAAX,CAAoBA,QADV,CAEpBC,MAAM,CAAE,MAAKd,KAAL,CAAWK,KAFC,CAAxB,CAIA,MAAKb,KAAL,CAAWuB,aAAX,CAAyBH,iBAAzB,CAA4C,MAAKpB,KAAL,CAAWwB,KAAvD,EACA,GAAMC,CAAAA,UAAU,CAAG,MAAKzB,KAAL,CAAWqB,QAAX,CAAoBK,SAApB,CAA8BC,QAA9B,CAAyCT,OAAzC,CAAmD,IAAtE,CACA,MAAKlB,KAAL,CAAW4B,gBAAX,CAA4BH,UAA5B,CAAwC,MAAKzB,KAAL,CAAWwB,KAAnD,EACH,CAzDkB,CAEf,MAAKhB,KAAL,CAAa,CACTK,KAAK,CAAE,EADE,CAETM,YAAY,CAAE,IAFL,CAGTF,WAAW,CAAE,oBAHJ,CAAb,CAFe,aAOlB,C,mFAEmB,CAChB,KAAKF,aAAL,CAAmB,KAAKP,KAAL,CAAWK,KAA9B,EACH,C,uCAqBQ,CACL,mBACI,2BAAK,SAAS,CAAC,iBAAf,eACI,iCAAQ,KAAKb,KAAL,CAAWqB,QAAX,CAAoBA,QAA5B,CADJ,cAEI,2BAAK,SAAS,CAAC,aAAf,eACI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,WAA7B,CAAyC,EAAE,qBAAe,KAAKrB,KAAL,CAAWwB,KAA1B,CAA3C,CAA8E,MAAM,CAAC,SAArF,CAA+F,QAAQ,CAAE,KAAKvB,aAA9G,EADJ,cAEI,6BAAO,SAAS,CAAC,6BAAjB,CAA+C,GAAG,qBAAe,KAAKD,KAAL,CAAWwB,KAA1B,CAAlD,EACK,KAAKhB,KAAL,CAAWS,WADhB,CAFJ,CAFJ,CADJ,CAYH,C,uBA9CmBrB,S,EA6DxB,cAAeG,CAAAA,SAAf","sourcesContent":["import '../../styles/Input.css';\nimport React, { Component } from 'react';\nimport validateValue from '../../helpers/validate/regexInput';\nimport { isEmpty } from 'lodash';\n\nclass FileInput extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: '',\n            isValidValue: true,\n            fileChoosed: 'Seleccionar Imagen'\n        }\n    }\n\n    componentDidMount() {\n        this.storeQuestion(this.state.value);\n    }\n\n    onValueChange = (event) => {\n        let file = event.target.files[0];\n        const reader = new FileReader();\n        const state = this;\n        if (!isEmpty(file.name)) {\n            reader.onload = function (e) {\n                state.setState({\n                    value: e.target.result,\n                })\n                state.storeQuestion();\n            }\n            reader.readAsDataURL(file);\n        } else {\n            file = { name: 'Seleccionar Imagen' }\n        }\n        this.setState({ fileChoosed: file.name });\n    }\n\n\n    render() {\n        return (\n            <div className='input-container'>\n                <label>{this.props.question.question}</label>\n                <div className=\"custom-file\">\n                    <input type=\"file\" className=\"fileInput\" id={`input-file${this.props.index}`} accept=\"image/*\" onChange={this.onValueChange} />\n                    <label className=\"custom-file-label fileInput\" for={`input-file${this.props.index}`}>\n                        {this.state.fileChoosed}\n                    </label>\n\n                </div>\n            </div>\n        )\n    }\n\n    storeQuestion = () => {\n        const isValid = !isEmpty(this.state.value);\n        this.setState({ isValidValue: isValid })\n        let completedQuestion = {\n            question: this.props.question.question,\n            answer: this.state.value\n        }\n        this.props.onStateChange(completedQuestion, this.props.index);\n        const isRequired = this.props.question.inputType.required ? isValid : true;\n        this.props.requiredQuestion(isRequired, this.props.index);\n    }\n}\n\nexport default FileInput;"]},"metadata":{},"sourceType":"module"}